---
layout: post
title: "Budowniczy"
date:  2018-05-28
categories: ["Wzorce projektowe"]
image: adapter
github: Adapter
description: "Wzorce projektowe / strukturalny"
keywords: "adapter, adapter obiektowy, adapter klasowy, wzorzec, wzorce projektowe, wzorzec strukturalny, design patterns, android, java, programowanie, programming"
---

## Zastosowanie
`Adapter` (ang. `Adapter`) (wzorzec strukturalny) umożliwia współpracę dwóch klas o niekompatybilnych interfejsach dzięki przekształceniu interfejsu jednej klasy na zrozumiałą postać dla drugiej. `Adapter` zwany inaczej `Wrapper` jest swego rodzaju przejściówką między dwoma bytami, tłumacząc żądania jednego na zrozumiały język drugiego. Wyróżnia się dwa warianty klasycznej postaci tego wzorca `Adapter Klasowy` oraz `Adapter Obiektowy`. Ponadto mówi się o Adapterze Dwukierunkowym, w którym translacja zachodzi w obie strony, tzn. klient jest jest także klasą adapatowaną. Taki mechanizm może posłużyć np. do konwersji typów.

## Ograniczenia
Przy tworzeniu `Adaptera` należy mieć na uwadzę, że wraz ze wzrostem niekompatybilności maleje wydajność co może stanowić problem w niektórych aplikacjach. `Adapter Klasowy` nie pozwala na adaptowanie podklas klasy adaptowanej, natomiast `Adapter Obiektowy` nie ma możliwości przeładowania metod klasy adaptowanej.

## Użycie
Stosowany jest głównie tam, gdzie wykorzystanie istniejącej klasy w celu komunikacji z inną klasą jest niemożliwe ze względu na niekompatybilnośc interfejsu. Ponadto `Adapter` używany jest w sytuacjach, gdy tworzona klasa będzie współpracować z klasami o nieokreślonych interfejsach.

## Implementacja
`Adapter Klasowy` dziedziczy po klasie adaptowanej `Adaptee` oraz publicznie implementuje klase klienta `Client`. `Adapter Obiektowy` implementuje klase klienta `Client` oraz zawiera instancję klasy adaptowanej `Adaptee`.

![Adapter diagram](/assets/img/diagrams/adapter.svg){: .center-image }

//TODO

{% highlight java %}
public interface Client {
	
	void operation1();
	void operation2();
}

public class Adaptee {
	
	public void method1() {
		//some work
	}

	public void method2() {
		//some work	
	}
}

Poniższy listing przedstawia przykładową implementacje wzorca w dwóch wariantach.

{% highlight java %}
public class AdapterClass extends Adaptee implements Client {

	@Override
	public void operation1() {
		method1();
	}

	@Override
	public void operation2() {
		method2();
	}
}
{% endhighlight %}

public class AdapterObject implements Client {
	
	private Adaptee adaptee;

	public Client(Adaptee adaptee) {
		this.adaptee = adaptee;
	}

	@Override
	public void operation1() {
		adaptee.method1();
	}

	@Override
	public void operation2() {
		adaptee.method2();
	}
}
{% endhighlight %}

Tak przygotowane adaptery umożliwią wywołanie metod klasy adaptowanej `Adaptee` z poziomu klasy `Client` co przedstawia poniższy listing.

{% highlight java %}
Client clientClass = new AdapterClass();
clientClass.operation1(); //runs method1() from Adaptee

Client clientObject = new AdapterObject(new Adaptee());
clientObject.operation2(); //runs method2() from Adaptee
{% endhighlight %}

## Przykład
//TODO

## Biblioteki
`Adapter` jest standardowym elementem biblioteki `Android`. Jego celem jest dostarczenie danych do widoku kolekcji `AdaperView`, a także stworzenie widoków `View` dla każdego elementu ze zbioru danych.